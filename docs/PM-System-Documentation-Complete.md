<div align="center" style="page-break-after: always;">

---

# **คู่มือระบบบริหารจัดการ**
# **การบำรุงรักษาเชิงป้องกัน**

## **Preventive Maintenance Management System**

---

<br><br><br>

### **เวอร์ชัน 1.0.0**

<br><br>

**วันที่จัดทำ:** 10 มกราคม พ.ศ. 2569

**จัดทำโดย:** ทีมพัฒนาระบบสารสนเทศ

---

<br><br><br><br>

**ลิขสิทธิ์ © พ.ศ. 2569**

**เอกสารนี้เป็นความลับขององค์กร**

**ห้ามทำซ้ำ ดัดแปลง หรือเผยแพร่โดยไม่ได้รับอนุญาต**

---

</div>

<div style="page-break-after: always;"></div>

---

# **ข้อมูลเอกสาร**

| รายการ | รายละเอียด |
|--------|-----------|
| **ชื่อเอกสาร** | คู่มือระบบบริหารจัดการการบำรุงรักษาเชิงป้องกัน |
| **รหัสเอกสาร** | PM-DOC-MASTER-001 |
| **เวอร์ชัน** | 1.0.0 |
| **วันที่จัดทำ** | 10 มกราคม พ.ศ. 2569 |
| **ปรับปรุงล่าสุด** | 10 มกราคม พ.ศ. 2569 |
| **สถานะ** | เผยแพร่ (Released) |
| **ระดับความลับ** | เอกสารภายในองค์กร |

---

# **ประวัติการแก้ไข**

| เวอร์ชัน | วันที่ | ผู้แก้ไข | รายละเอียดการแก้ไข |
|---------|--------|---------|-------------------|
| 1.0.0 | 10/01/2569 | ทีมพัฒนาระบบ | เอกสารฉบับแรก - ครอบคลุมทุกส่วนงาน |

---

# **ผู้อนุมัติเอกสาร**

| ลำดับ | ชื่อ-นามสกุล | ตำแหน่ง | ลายมือชื่อ | วันที่ |
|------|------------|--------|----------|-------|
| 1 | | ผู้จัดการโครงการ | | |
| 2 | | ผู้จัดการฝ่ายบำรุงรักษา | | |
| 3 | | ผู้จัดการฝ่ายเทคโนโลยีสารสนเทศ | | |

<div style="page-break-after: always;"></div>

---

# **สารบัญ**

| หัวข้อ | หน้า |
|-------|-----|
| **ส่วนที่ 1: บทนำ** | |
| 1.1 ที่มาและความสำคัญ | |
| 1.2 วัตถุประสงค์ของระบบ | |
| 1.3 ขอบเขตของระบบ | |
| 1.4 กลุ่มผู้ใช้งานและสิทธิ์การเข้าถึง | |
| **ส่วนที่ 2: คู่มือการใช้งานสำหรับผู้ใช้ทั่วไป** | |
| 2.1 การเข้าสู่ระบบ | |
| 2.2 หน้าหลัก (Dashboard) | |
| 2.3 การดำเนินการบำรุงรักษา (PM Inspection) | |
| 2.4 ประวัติการบำรุงรักษา (PM History) | |
| 2.5 ปฏิทินกำหนดการ (Calendar) | |
| 2.6 รายงาน (Reports) | |
| **ส่วนที่ 3: คู่มือสำหรับผู้ดูแลระบบ** | |
| 3.1 การจัดการผู้ใช้งาน | |
| 3.2 การจัดการข้อมูลหลัก | |
| 3.3 การจัดการแผนบำรุงรักษา | |
| 3.4 การติดตามและตรวจสอบ | |
| **ส่วนที่ 4: คู่มือการติดตั้งและตั้งค่าระบบ** | |
| 4.1 ความต้องการของระบบ | |
| 4.2 การติดตั้งซอฟต์แวร์ | |
| 4.3 การตั้งค่าสภาพแวดล้อม | |
| 4.4 การเริ่มต้นใช้งาน | |
| **ส่วนที่ 5: เอกสารอ้างอิงทางเทคนิค** | |
| 5.1 โครงสร้างฐานข้อมูล | |
| 5.2 ข้อกำหนด API | |
| **ส่วนที่ 6: การแก้ไขปัญหาที่พบบ่อย** | |
| **ส่วนที่ 7: บันทึกการเปลี่ยนแปลง** | |
| **ภาคผนวก** | |

<div style="page-break-after: always;"></div>

---

# **ส่วนที่ 1: บทนำ**

---

## **1.1 ที่มาและความสำคัญ**

การบำรุงรักษาเชิงป้องกัน (Preventive Maintenance: PM) เป็นกระบวนการสำคัญในการรักษาสภาพและประสิทธิภาพของเครื่องจักรในโรงงานอุตสาหกรรม การดำเนินการบำรุงรักษาอย่างเป็นระบบช่วยลดความเสี่ยงในการหยุดชะงักของกระบวนการผลิต ลดค่าใช้จ่ายในการซ่อมแซมฉุกเฉิน และยืดอายุการใช้งานของเครื่องจักร

ในอดีต การจัดการบำรุงรักษาเชิงป้องกันมักดำเนินการด้วยระบบเอกสารกระดาษหรือตารางคำนวณ (Spreadsheet) ซึ่งมีข้อจำกัดหลายประการ ได้แก่:

- **ความยากในการติดตามสถานะ**: ไม่สามารถติดตามสถานะการบำรุงรักษาได้แบบทันท่วงที
- **การสูญหายของข้อมูล**: เอกสารกระดาษมีความเสี่ยงในการสูญหายหรือเสียหาย
- **ความล่าช้าในการรายงาน**: การรวบรวมข้อมูลและจัดทำรายงานใช้เวลามาก
- **ข้อผิดพลาดจากการบันทึกข้อมูลด้วยมือ**: เกิดความคลาดเคลื่อนในการบันทึกและคำนวณ

**ระบบบริหารจัดการการบำรุงรักษาเชิงป้องกัน (Preventive Maintenance Management System)** ได้รับการพัฒนาขึ้นเพื่อแก้ไขปัญหาดังกล่าว โดยนำเทคโนโลยีสารสนเทศมาประยุกต์ใช้ในการจัดการกระบวนการบำรุงรักษาอย่างมีประสิทธิภาพ

---

## **1.2 วัตถุประสงค์ของระบบ**

ระบบนี้ได้รับการพัฒนาขึ้นโดยมีวัตถุประสงค์หลักดังต่อไปนี้:

1. **เพิ่มประสิทธิภาพในการจัดการบำรุงรักษา**
   - ระบบช่วยวางแผนและกำหนดตารางการบำรุงรักษาอัตโนมัติ
   - แจ้งเตือนก่อนถึงกำหนดการบำรุงรักษา

2. **รวบรวมข้อมูลอย่างเป็นระบบ**
   - บันทึกผลการบำรุงรักษาในฐานข้อมูลส่วนกลาง
   - สามารถเรียกดูประวัติย้อนหลังได้ทันที

3. **ลดความผิดพลาดจากการทำงานด้วยมือ**
   - ระบบคำนวณวันที่บำรุงรักษาถัดไปอัตโนมัติ
   - ตรวจสอบค่าที่บันทึกกับเกณฑ์มาตรฐานอัตโนมัติ

4. **สนับสนุนการตัดสินใจของผู้บริหาร**
   - จัดทำรายงานและสถิติเพื่อการวิเคราะห์
   - แสดงสถานะรวมของเครื่องจักรทั้งหมดในหน้าเดียว

5. **เพิ่มความโปร่งใสและตรวจสอบได้**
   - ระบบบันทึกผู้ดำเนินการและเวลาการทำงาน
   - สามารถส่งออกข้อมูลเพื่อการตรวจสอบได้

---

## **1.3 ขอบเขตของระบบ**

ระบบนี้ครอบคลุมการทำงานในส่วนต่าง ๆ ดังนี้:

| หมวด | ฟังก์ชันการทำงาน |
|-----|------------------|
| **การจัดการข้อมูลหลัก** | พื้นที่ (Areas), ประเภทเครื่องจักร (Machine Types), ข้อมูลเครื่องจักร (Machines) |
| **การจัดการแผนบำรุงรักษา** | ประเภทการบำรุงรักษา (Preventive Types), รายการตรวจสอบ (Checklists), แผนบำรุงรักษา (PM Plans) |
| **การดำเนินการบำรุงรักษา** | บันทึกผลการตรวจสอบ, ถ่ายภาพประกอบ, เลื่อนกำหนดการ |
| **การติดตามและรายงาน** | แดชบอร์ด (Dashboard), ปฏิทิน (Calendar), รายงาน (Reports), การวิเคราะห์ (Analysis) |
| **การจัดการผู้ใช้งาน** | บัญชีผู้ใช้, สิทธิ์การเข้าถึง, การมอบหมายเครื่องจักร |

---

## **1.4 กลุ่มผู้ใช้งานและสิทธิ์การเข้าถึง**

### **1.4.1 ประเภทผู้ใช้งาน**

| ประเภท | บทบาท | สิทธิ์การเข้าถึง |
|--------|------|-----------------|
| **ผู้ดูแลระบบ (Administrator)** | บริหารจัดการระบบทั้งหมด | เข้าถึงได้ทุกฟังก์ชัน |
| **ผู้ปฏิบัติงานบำรุงรักษา** | ดำเนินการบำรุงรักษาตามที่ได้รับมอบหมาย | ดำเนินการบำรุงรักษาเครื่องจักรที่ได้รับมอบหมาย |
| **ผู้ควบคุมตารางเวลา** | จัดตารางการบำรุงรักษา | เลื่อนกำหนดการบำรุงรักษา |
| **ผู้ปฏิบัติงานเต็มสิทธิ์** | ทำได้ทั้งสองหน้าที่ | ดำเนินการและเลื่อนกำหนดการ |

### **1.4.2 บทบาทในการดำเนินงาน**

| บทบาท | หน้าที่ |
|------|--------|
| **ผู้ตรวจสอบ (Inspector)** | ดำเนินการตรวจสอบและบำรุงรักษา |
| **ผู้ตรวจรับ (Checker)** | ตรวจรับผลงานการบำรุงรักษา |
| **ทั้งสองบทบาท (Both)** | ดำเนินการได้ทั้งตรวจสอบและตรวจรับ |

<div style="page-break-after: always;"></div>

---

# **ส่วนที่ 2: คู่มือการใช้งานสำหรับผู้ใช้ทั่วไป**

---

## **2.1 การเข้าสู่ระบบ**

### **2.1.1 การเข้าถึงระบบ**

เปิดโปรแกรมเว็บเบราว์เซอร์ (แนะนำ Google Chrome หรือ Microsoft Edge) และไปยังที่อยู่ URL ที่กำหนดโดยผู้ดูแลระบบ

### **2.1.2 ขั้นตอนการเข้าสู่ระบบ**

1. กรอกชื่อผู้ใช้ (Username) ในช่องที่กำหนด
2. กรอกรหัสผ่าน (Password) ในช่องที่กำหนด
3. กดปุ่ม **"เข้าสู่ระบบ"** (Sign In)
4. หากข้อมูลถูกต้อง ระบบจะนำท่านไปยังหน้าหลัก (Dashboard)

### **2.1.3 การออกจากระบบ**

1. คลิกที่ชื่อผู้ใช้หรือไอคอนผู้ใช้ที่มุมขวาบนของหน้าจอ
2. เลือกเมนู **"ออกจากระบบ"** (Logout)

> **หมายเหตุ:** เพื่อความปลอดภัย กรุณาออกจากระบบทุกครั้งหลังเสร็จสิ้นการใช้งาน

---

## **2.2 หน้าหลัก (Dashboard)**

หน้าหลักแสดงภาพรวมสถานะของเครื่องจักรและการบำรุงรักษาทั้งหมด

### **2.2.1 ส่วนประกอบหลัก**

| ส่วนประกอบ | รายละเอียด |
|-----------|-----------|
| **ตัวกรองข้อมูล** | กรองข้อมูลตามพื้นที่ ประเภทเครื่อง ชื่อเครื่อง และประเภทการบำรุงรักษา |
| **การ์ดสรุปสถานะ** | แสดงจำนวนเครื่องจักร จำนวนรายการบำรุงรักษา สถานะต่าง ๆ |
| **ตารางสถานะเครื่องจักร** | แสดงรายละเอียดสถานะของเครื่องจักรแต่ละเครื่อง |

### **2.2.2 ความหมายของสถานะ**

| สถานะ | ความหมาย |
|-------|---------|
| **Completed (สำเร็จ)** | ดำเนินการบำรุงรักษาครั้งล่าสุดเรียบร้อยแล้ว ผลการตรวจสอบผ่านทุกรายการ |
| **Checked (NG)** | ดำเนินการบำรุงรักษาแล้ว แต่ผลการตรวจสอบบางรายการไม่ผ่านเกณฑ์ |
| **Upcoming** | ใกล้ถึงกำหนดการบำรุงรักษา (ภายในจำนวนวันที่กำหนดแจ้งเตือน) |
| **Overdue** | เกินกำหนดการบำรุงรักษาแล้ว ต้องดำเนินการโดยเร็ว |

### **2.2.3 การรีเฟรชข้อมูล**

- ระบบรีเฟรชข้อมูลอัตโนมัติทุก 5 นาที
- กดปุ่ม **"รีเฟรช"** เพื่อโหลดข้อมูลล่าสุดทันที

---

## **2.3 การดำเนินการบำรุงรักษา (PM Inspection)**

### **2.3.1 การเข้าถึงหน้าบันทึกผลการบำรุงรักษา**

1. จากหน้าหลัก คลิกปุ่ม **"ตรวจสอบ"** (Inspect) ที่เครื่องจักรที่ต้องการ
2. ระบบจะแสดงหน้าบันทึกผลการบำรุงรักษา

### **2.3.2 การกรอกรายการตรวจสอบ**

| ประเภทรายการ | วิธีการบันทึก |
|-------------|-------------|
| **แบบเลือกผ่าน/ไม่ผ่าน (Boolean)** | คลิกปุ่ม "ผ่าน" (OK) หรือ "ไม่ผ่าน" (NG) |
| **แบบค่าตัวเลข (Numeric)** | กรอกค่าตัวเลขที่วัดได้ ระบบจะตรวจสอบกับเกณฑ์ที่กำหนดอัตโนมัติ |

### **2.3.3 การถ่ายภาพประกอบ**

1. คลิกไอคอนกล้องที่รายการที่ต้องการ
2. เลือก **"ภาพก่อนดำเนินการ"** หรือ **"ภาพหลังดำเนินการ"**
3. ถ่ายภาพหรือเลือกภาพจากแกลเลอรี
4. ภาพจะถูกบันทึกพร้อมกับผลการตรวจสอบ

### **2.3.4 การบันทึกผล**

1. ตรวจสอบว่ากรอกรายการตรวจสอบครบถ้วน
2. กรอกชื่อผู้ตรวจสอบ (Inspector) ในช่องที่กำหนด
3. กรอกชื่อผู้ตรวจรับ (Checker) หากมี
4. เพิ่มหมายเหตุเพิ่มเติมหากจำเป็น
5. กดปุ่ม **"บันทึก"** เพื่อบันทึกผลการบำรุงรักษา

---

## **2.4 ประวัติการบำรุงรักษา (PM History)**

### **2.4.1 การเข้าถึง**

จากหน้าหลัก คลิกปุ่ม **"ประวัติ"** (History) ที่เครื่องจักรที่ต้องการดูประวัติ

### **2.4.2 การกรองข้อมูล**

| ตัวกรอง | รายละเอียด |
|--------|-----------|
| **ปี** | เลือกปีที่ต้องการดูข้อมูล |
| **ประเภทการบำรุงรักษา** | เลือกประเภทการบำรุงรักษาที่ต้องการ |

### **2.4.3 การส่งออกข้อมูล**

| รูปแบบ | วิธีการ |
|--------|--------|
| **Excel** | คลิกปุ่ม "ส่งออก Excel" เพื่อดาวน์โหลดไฟล์ .xlsx |
| **PDF** | คลิกปุ่ม "ส่งออก PDF" เพื่อดาวน์โหลดไฟล์ .pdf |

---

## **2.5 ปฏิทินกำหนดการ (Calendar)**

### **2.5.1 การอ่านปฏิทิน**

| สี | ความหมาย |
|---|---------|
| **เขียว** | การบำรุงรักษาที่ดำเนินการเสร็จสิ้นแล้ว |
| **เหลือง** | การบำรุงรักษาที่ใกล้ถึงกำหนด |
| **แดง** | การบำรุงรักษาที่เกินกำหนดแล้ว |
| **น้ำเงิน** | การบำรุงรักษาที่กำหนดไว้ในอนาคต |

### **2.5.2 การดำเนินการจากปฏิทิน**

คลิกที่รายการในปฏิทินเพื่อ:
- เข้าสู่หน้าดำเนินการบำรุงรักษา หรือ
- เลื่อนกำหนดการบำรุงรักษา (สำหรับผู้ที่มีสิทธิ์)

---

## **2.6 รายงาน (Reports)**

### **2.6.1 การสร้างรายงาน**

1. ไปที่เมนู **"รายงาน"** (Reports)
2. กำหนดเงื่อนไขการกรองข้อมูล (ช่วงวันที่ เครื่องจักร สถานะ)
3. กดปุ่ม **"แสดงผล"** เพื่อดูรายงาน
4. กดปุ่ม **"ส่งออก"** เพื่อดาวน์โหลดรายงาน

<div style="page-break-after: always;"></div>

---

# **ส่วนที่ 3: คู่มือสำหรับผู้ดูแลระบบ**

---

## **3.1 การจัดการผู้ใช้งาน**

### **3.1.1 การเข้าถึง**

ไปที่เมนู **เครื่องจักร → ผู้ใช้งาน**

### **3.1.2 การสร้างผู้ใช้ใหม่**

1. กดปุ่ม **"เพิ่มผู้ใช้ใหม่"**
2. กรอกข้อมูลตามที่กำหนด:
   - ชื่อ-นามสกุล (จำเป็น)
   - รหัสพนักงาน
   - อีเมล
   - ชื่อผู้ใช้และรหัสผ่าน (สำหรับเข้าสู่ระบบ)
   - บทบาท (Inspector/Checker/Both)
   - ระดับสิทธิ์ระบบ (Admin/User)
   - ประเภทสิทธิ์การใช้งาน (PM_ONLY/RESCHEDULE_ONLY/PM_AND_RESCHEDULE)
   - เครื่องจักรที่รับผิดชอบ
3. กดปุ่ม **"บันทึก"**

### **3.1.3 การแก้ไขและลบผู้ใช้**

- **แก้ไข:** คลิกปุ่ม "แก้ไข" ที่แถวผู้ใช้ที่ต้องการ
- **ลบ:** คลิกปุ่ม "ลบ" ที่แถวผู้ใช้ที่ต้องการ และยืนยันการลบ

> **ข้อควรระวัง:** การลบผู้ใช้ไม่สามารถกู้คืนได้

---

## **3.2 การจัดการข้อมูลหลัก**

### **3.2.1 การจัดการพื้นที่ (Areas)**

ไปที่ **เครื่องจักร → พื้นที่** เพื่อเพิ่ม แก้ไข หรือลบข้อมูลพื้นที่

### **3.2.2 การจัดการประเภทเครื่องจักร (Machine Types)**

ไปที่ **เครื่องจักร → ประเภทเครื่อง** เพื่อเพิ่ม แก้ไข หรือลบประเภทเครื่องจักร

### **3.2.3 การจัดการ Machine Master**

ไปที่ **เครื่องจักร → Master** เพื่อเพิ่ม แก้ไข หรือลบ Template เครื่องจักร

### **3.2.4 การจัดการเครื่องจักร**

ไปที่ **เครื่องจักร → รายชื่อ** เพื่อเพิ่ม แก้ไข หรือลบเครื่องจักร

---

## **3.3 การจัดการแผนบำรุงรักษา**

### **3.3.1 การจัดการประเภทการบำรุงรักษา (Preventive Types)**

ไปที่ **เครื่องจักร → ประเภทบำรุงรักษา** เพื่อ:
- เพิ่ม/แก้ไข/ลบประเภทการบำรุงรักษา
- กำหนดรายการตรวจสอบ (Checklists)
- ตั้งค่าการแจ้งเตือนทางอีเมล

### **3.3.2 การจัดการรายการตรวจสอบ (Checklists)**

| ประเภท | รายละเอียด |
|--------|-----------|
| **Boolean** | รายการแบบผ่าน/ไม่ผ่าน |
| **Numeric** | รายการแบบค่าตัวเลข พร้อมค่าต่ำสุด/สูงสุด |

### **3.3.3 การกำหนดแผนบำรุงรักษา**

แต่ละเครื่องจักรสามารถมีหลายแผนบำรุงรักษาได้ โดยกำหนด:
- ความถี่ (จำนวนวัน)
- จำนวนวันแจ้งเตือนล่วงหน้า
- วันที่เริ่มต้น

---

## **3.4 การติดตามและตรวจสอบ**

ผู้ดูแลระบบสามารถ:
- ดูรายงานรวมของทุกเครื่องจักร
- วิเคราะห์ประสิทธิภาพการบำรุงรักษา
- ตรวจสอบประวัติการดำเนินงาน
- ลบบันทึกการบำรุงรักษาที่ไม่ถูกต้อง

<div style="page-break-after: always;"></div>

---

# **ส่วนที่ 4: คู่มือการติดตั้งและตั้งค่าระบบ**

---

## **4.1 ความต้องการของระบบ**

### **4.1.1 ฮาร์ดแวร์**

| รายการ | ขั้นต่ำ | แนะนำ |
|--------|--------|-------|
| **หน่วยประมวลผล** | 2 Cores | 4+ Cores |
| **หน่วยความจำ** | 4 GB | 8+ GB |
| **พื้นที่จัดเก็บ** | 20 GB | 50+ GB |
| **เครือข่าย** | 100 Mbps | 1 Gbps |

### **4.1.2 ซอฟต์แวร์**

| ซอฟต์แวร์ | เวอร์ชัน |
|----------|---------|
| **ระบบปฏิบัติการ** | Windows Server 2016 ขึ้นไป หรือ Windows 10/11 |
| **Node.js** | เวอร์ชัน 20.x ขึ้นไป |
| **SQL Server** | เวอร์ชัน 2019 ขึ้นไป |

---

## **4.2 การติดตั้งซอฟต์แวร์**

### **4.2.1 การติดตั้ง Node.js**

1. ดาวน์โหลด Node.js จาก https://nodejs.org/
2. เลือกเวอร์ชัน LTS
3. ติดตั้งตามขั้นตอนที่แสดง
4. ตรวจสอบการติดตั้ง: `node --version`

### **4.2.2 การติดตั้งฐานข้อมูล**

1. ติดตั้ง SQL Server
2. สร้างฐานข้อมูลใหม่
3. กำหนดสิทธิ์ผู้ใช้

### **4.2.3 การติดตั้งแอปพลิเคชัน**

```bash
# ติดตั้ง Dependencies ของ Backend
cd backend
npm install

# ติดตั้ง Dependencies ของ Frontend
cd frontend/my-app
npm install
```

---

## **4.3 การตั้งค่าสภาพแวดล้อม**

### **4.3.1 ไฟล์ .env**

สร้างไฟล์ `.env` ในโฟลเดอร์ `backend` และกำหนดค่าดังนี้:

| ตัวแปร | รายละเอียด |
|-------|-----------|
| DATABASE_URL | Connection String ของฐานข้อมูล |
| JWT_SECRET | คีย์ลับสำหรับ JWT Token |
| PORT | พอร์ตของ Backend Server |
| SMTP_HOST | SMTP Server สำหรับส่งอีเมล |
| SMTP_PORT | พอร์ตของ SMTP Server |
| SMTP_USER | ชื่อผู้ใช้ SMTP |
| SMTP_PASS | รหัสผ่าน SMTP |

---

## **4.4 การเริ่มต้นใช้งาน**

### **4.4.1 รัน Migration**

```bash
cd backend
npx prisma migrate deploy
```

### **4.4.2 เริ่มต้น Backend**

```bash
cd backend
npm start
```

### **4.4.3 เริ่มต้น Frontend**

```bash
cd frontend/my-app
npm run dev
```

<div style="page-break-after: always;"></div>

---

# **ส่วนที่ 5: เอกสารอ้างอิงทางเทคนิค**

---

## **5.1 โครงสร้างฐานข้อมูล**

### **5.1.1 สรุปตาราง**

| ตาราง | รายละเอียด |
|------|-----------|
| **Area** | ข้อมูลพื้นที่ในโรงงาน |
| **MachineType** | ประเภทเครื่องจักร |
| **MachineMaster** | Template เครื่องจักร |
| **Machine** | ข้อมูลเครื่องจักร |
| **PreventiveType** | ประเภทการบำรุงรักษา |
| **MasterChecklist** | รายการตรวจสอบมาตรฐาน |
| **MachinePMPlan** | แผนบำรุงรักษาของเครื่องจักร |
| **PMRecord** | บันทึกการบำรุงรักษา |
| **PMRecordDetail** | รายละเอียดการตรวจสอบ |
| **UserMaster** | ข้อมูลผู้ใช้งาน |

### **5.1.2 แผนภาพความสัมพันธ์**

```
Area → MachineType → MachineMaster → Machine
PreventiveType → MasterChecklist
PreventiveType → MachinePMPlan ← Machine
PMRecord → PMRecordDetail
```

---

## **5.2 ข้อกำหนด API**

### **5.2.1 การยืนยันตัวตน**

ทุก API (ยกเว้น Login) ต้องส่ง JWT Token ใน Header:
```
Authorization: Bearer <token>
```

### **5.2.2 รายการ API หลัก**

| Method | Endpoint | รายละเอียด |
|--------|----------|-----------|
| POST | /api/auth/login | เข้าสู่ระบบ |
| GET | /api/auth/me | ข้อมูลผู้ใช้ปัจจุบัน |
| GET | /api/dashboard/stats | สถิติ Dashboard |
| GET | /api/machines | รายการเครื่องจักร |
| POST | /api/pm/record | บันทึกผลการบำรุงรักษา |
| GET | /api/pm/schedule | ตารางการบำรุงรักษา |

<div style="page-break-after: always;"></div>

---

# **ส่วนที่ 6: การแก้ไขปัญหาที่พบบ่อย**

---

## **6.1 ปัญหาการเข้าสู่ระบบ**

| ปัญหา | สาเหตุ | วิธีแก้ไข |
|-------|-------|---------|
| "Invalid credentials" | ชื่อผู้ใช้หรือรหัสผ่านไม่ถูกต้อง | ตรวจสอบการพิมพ์ ระวัง Caps Lock |
| "Connection Error" | ไม่สามารถเชื่อมต่อ Server ได้ | ตรวจสอบการเชื่อมต่อเครือข่าย |
| "Invalid or Expired token" | Token หมดอายุ | ล้าง Cache และเข้าสู่ระบบใหม่ |

---

## **6.2 ปัญหาข้อมูลไม่แสดง**

| ปัญหา | สาเหตุ | วิธีแก้ไข |
|-------|-------|---------|
| ไม่เห็นเครื่องจักร | ไม่ได้รับมอบหมาย หรือตัวกรองตั้งค่าผิด | ตรวจสอบตัวกรอง ติดต่อผู้ดูแลระบบ |
| ข้อมูลไม่อัปเดต | Cache ของเบราว์เซอร์ | กดปุ่มรีเฟรช หรือกด F5 |
| รูปภาพไม่แสดง | ไฟล์ถูกลบหรือ Path ไม่ถูกต้อง | ติดต่อผู้ดูแลระบบ |

---

## **6.3 ปัญหาการบันทึก**

| ปัญหา | สาเหตุ | วิธีแก้ไข |
|-------|-------|---------|
| บันทึกไม่ได้ | กรอกข้อมูลไม่ครบ | ตรวจสอบรายการที่จำเป็น |
| ถ่ายรูปไม่ได้ | ไม่ได้อนุญาตกล้อง | ตรวจสอบ Permission ของเบราว์เซอร์ |

---

## **6.4 การติดต่อขอความช่วยเหลือ**

เมื่อพบปัญหาที่ไม่สามารถแก้ไขได้ด้วยตนเอง กรุณาเตรียมข้อมูลดังนี้:
- ชื่อผู้แจ้งและแผนก
- รายละเอียดปัญหาที่พบ
- ขั้นตอนที่ทำก่อนเกิดปัญหา
- ภาพหน้าจอข้อผิดพลาด (ถ้ามี)

| ช่องทาง | รายละเอียด |
|--------|-----------|
| **โทรศัพท์** | ภายใน xxxx |
| **อีเมล** | it-support@company.com |

<div style="page-break-after: always;"></div>

---

# **ส่วนที่ 7: บันทึกการเปลี่ยนแปลง**

---

## **เวอร์ชัน 1.0.0**

**วันที่เผยแพร่:** 10 มกราคม พ.ศ. 2569

**ประเภท:** Major Release (ฉบับแรก)

### **ฟังก์ชันหลัก**

| หมวด | ฟังก์ชัน |
|-----|---------|
| **ระบบยืนยันตัวตน** | เข้าสู่ระบบ/ออกจากระบบ, JWT Token, การควบคุมสิทธิ์ |
| **หน้าหลัก** | แสดงสถานะแบบ Real-time, รีเฟรชอัตโนมัติ, ตัวกรองข้อมูล |
| **การจัดการเครื่องจักร** | พื้นที่, ประเภท, Master, เครื่องจักร |
| **การบำรุงรักษา** | บันทึกผล, ถ่ายภาพ, รายการตรวจสอบ |
| **ประวัติและรายงาน** | ดูประวัติ, ส่งออก Excel/PDF |
| **ปฏิทิน** | แสดงกำหนดการ, เลื่อนกำหนด |
| **การแจ้งเตือน** | ศูนย์แจ้งเตือน, อีเมล |

### **ข้อกำหนดทางเทคนิค**

| ส่วนประกอบ | เทคโนโลยี |
|-----------|----------|
| Frontend | Next.js 16.x |
| Backend | Express.js 4.x |
| Database | SQL Server 2019+ |
| ORM | Prisma 5.x |

---

## **แผนการพัฒนาในอนาคต**

| เวอร์ชัน | กำหนดการ | ฟังก์ชันที่วางแผน |
|---------|---------|-----------------|
| 1.1.0 | ไตรมาส 2/2569 | Mobile App, QR Code Scan, Offline Mode |
| 1.2.0 | ไตรมาส 3/2569 | Dashboard Widgets, Custom Reports, Multi-language |
| 2.0.0 | ไตรมาส 4/2569 | AI Predictive Maintenance, IoT Integration |

<div style="page-break-after: always;"></div>

---

# **ภาคผนวก**

---

## **ก. คำศัพท์และคำย่อ**

| คำศัพท์ | ความหมาย |
|--------|---------|
| **PM** | Preventive Maintenance - การบำรุงรักษาเชิงป้องกัน |
| **Dashboard** | หน้าหลักแสดงภาพรวมข้อมูล |
| **Checklist** | รายการตรวจสอบ |
| **JWT** | JSON Web Token - มาตรฐานการยืนยันตัวตน |
| **API** | Application Programming Interface |
| **ORM** | Object-Relational Mapping |

---

## **ข. ค่ามาตรฐานในระบบ**

### **System Role**

| ค่า | ความหมาย |
|----|---------|
| ADMIN | ผู้ดูแลระบบ |
| USER | ผู้ใช้งานทั่วไป |

### **Permission Type**

| ค่า | ความหมาย |
|----|---------|
| PM_ONLY | ดำเนินการบำรุงรักษาได้อย่างเดียว |
| RESCHEDULE_ONLY | เลื่อนกำหนดการได้อย่างเดียว |
| PM_AND_RESCHEDULE | ดำเนินการและเลื่อนกำหนดการได้ |

### **User Role**

| ค่า | ความหมาย |
|----|---------|
| INSPECTOR | ผู้ตรวจสอบ |
| CHECKER | ผู้ตรวจรับ |
| BOTH | ทั้งสองบทบาท |

### **PM Status**

| ค่า | ความหมาย |
|----|---------|
| PLANNED | วางแผนแล้ว |
| COMPLETED | เสร็จสิ้น |
| LATE | เลยกำหนด |

---

<div align="center" style="page-break-before: always;">

<br><br><br><br><br><br><br><br>

---

# **จบเอกสาร**

---

**คู่มือระบบบริหารจัดการการบำรุงรักษาเชิงป้องกัน**

**เวอร์ชัน 1.0.0**

---

**ลิขสิทธิ์ © พ.ศ. 2569**

**สงวนลิขสิทธิ์ตามกฎหมาย**

---

</div>
